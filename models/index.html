
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.7">
    
    
      
        <title>Data Models - APTrust Registry</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#data-models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="APTrust Registry" class="md-header__button md-logo" aria-label="APTrust Registry" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            APTrust Registry
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Data Models
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/APTrust/registry-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="APTrust Registry" class="md-nav__button md-logo" aria-label="APTrust Registry" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    APTrust Registry
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/APTrust/registry-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../structure/" class="md-nav__link">
        Code Structure
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../components/" class="md-nav__link">
        Key Code Components
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../requests/" class="md-nav__link">
        Requests
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        Security Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/roles/" class="md-nav__link">
        Roles and Privileges
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/authorization/" class="md-nav__link">
        Authorization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/csrf/" class="md-nav__link">
        Cross-Site Request Forgery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/headers/" class="md-nav__link">
        Default Headers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../user-management/" class="md-nav__link">
        User Management
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../institution-management/" class="md-nav__link">
        Institution Management
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../deletion/" class="md-nav__link">
        Deletion
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../restoration/" class="md-nav__link">
        Restoration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../requeuing/" class="md-nav__link">
        Requeing Work Items
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../nsq/" class="md-nav__link">
        NSQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../redis/" class="md-nav__link">
        Redis
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ui-components/" class="md-nav__link">
        UI Components
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        Database
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Data Models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Data Models
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-base-model" class="md-nav__link">
    The Base Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allowed-filters" class="md-nav__link">
    Allowed Filters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-models" class="md-nav__link">
    List of Models
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-non-model-objects-in-pgmodels" class="md-nav__link">
    List of Non-Model Objects in pgmodels
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        Settings
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-base-model" class="md-nav__link">
    The Base Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#allowed-filters" class="md-nav__link">
    Allowed Filters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-models" class="md-nav__link">
    List of Models
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-of-non-model-objects-in-pgmodels" class="md-nav__link">
    List of Non-Model Objects in pgmodels
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/APTrust/registry-docs/edit/master/docs/models.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="data-models">Data Models</h1>
<p>The data models that form the core of the Registry are located in the <a href="https://github.com/APTrust/registry/tree/master/pgmodels" target="_blank">pgmodels directory</a>. These models map directly to database tables or database views.</p>
<p>Table-backed models support inserts and usually updates and deletions. (Some records, such as PREMIS events, cannot be updated or deleted.) Most models implementing deletion support soft-deletion only.</p>
<p>View-backed models are read-only. These are generally used to gather data for detail and list pages with a single query.</p>
<h2 id="the-base-model">The Base Model</h2>
<p>The base models, BaseModel and TimestampModel, are defined in <a href="https://github.com/APTrust/registry/blob/master/pgmodels/pgmodel.go" target="_blank">pgmodels/pgmodel.go</a>, which also defines base methods for insertion, updating, and transactions.</p>
<p>This file has two other important functions:</p>
<ul>
<li><code>initFilters()</code> defines a whitelist of allowed filters for each model type.</li>
<li><code>InstIDFor()</code> returns the ID of the insitution that owns any given resource.</li>
</ul>
<p><code>InstIDFor()</code> is especially important for the security checks run by the <a href="https://github.com/APTrust/registry/blob/master/middleware/resource_authorization.go" target="_blank">resource authorization middleware</a>, which checks permissions against roles and ensures institutional users and admins can access only those resources belonging to their own institutions.</p>
<h2 id="allowed-filters">Allowed Filters</h2>
<p>Each model defines a list of allowed filters that users can use to refine results in list queries. The filters are often defined on the view version of a model. For example, <a href="https://github.com/APTrust/registry/blob/master/pgmodels/work_item_view.go" target="_blank">pgmodels/work_item_view.go</a> defines a number of filters for the WorkItem list.</p>
<p>These filters become the names of form controls in the related filter form. See, for example, the <a href="https://github.com/APTrust/registry/blob/master/forms/work_item_filter_form.go" target="_blank">WorkItemFilterForm</a>.</p>
<p>That form will be rendered by the <a href="https://github.com/APTrust/registry/blob/master/views/work_items/_filters.html" target="_blank">work item filters view</a>.</p>
<p>When a user submits a query to the WorkItem list page, the <code>GetFilterCollection()</code> function of the <a href="https://github.com/APTrust/registry/blob/master/web/webui/request.go" target="_blank">web request object</a> parses the query string into a  <a href="https://github.com/APTrust/registry/blob/master/pgmodels/filter_collection.go" target="_blank">FilterCollection object</a>, whose <code>ToQuery()</code> function converts it to a
<a href="https://github.com/APTrust/registry/blob/master/pgmodels/query.go" target="_blank">Query object</a>.</p>
<p>The effect of all this is that we can add new query fields for any table or view simply by adding items to the allowed filters list. As long as the filter name follows a defined pattern, the Registry code will know what to do with it. This system also ensures that Registry won't accept unknown or dangerous filters, only those that are whitelisted.</p>
<p>The QueryOp map in <a href="https://github.com/APTrust/registry/blob/master/pgmodels/query.go" target="_blank">pgmodels/query.go</a> defines how filter name suffixes map to SQL operators. For example, query string parameters <code>size=99</code> and <code>size__eq=99</code> both turn into the SQL condition <code>size = 99</code>. Similarly, <code>size__gt=99</code> turns into <code>size &gt; 99</code>, while <code>size__gteq=99</code> turns into <code>size &gt;= 99</code>.</p>
<p>The QueryOp map supports numeric operators as well as string and boolean equality, <code>ILIKE</code>, <code>IN</code>, <code>NOT IN</code>, <code>IS NULL</code> and <code>IS NOT NULL</code>.</p>
<h2 id="list-of-models">List of Models</h2>
<p>Below is a list of models in the pgmodels directory, along with a brief description of each. For more information, click on a model name to view the souce.</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/alert.go" target="_blank">Alert</a></td>
<td>An alert sent to one or more users. E.g. password-reset email, deletion request review notice, etc.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/alert_view.go" target="_blank">AlertView</a></td>
<td>Read-only model containing additional fields from records related to the alert. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/checksum.go" target="_blank">Checksum</a></td>
<td>A checksum record for an individual GenericFile. Checksums cannot be deleted or updated.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/checksum_view.go" target="_blank">ChecksumView</a></td>
<td>Read-only model containing additional fields from records related to the checksum. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/counts.go" target="_blank">Counts</a></td>
<td>Includes several objects used to represent object, file, event, and work item counts.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/deletion_request.go" target="_blank">DeletionRequest</a></td>
<td>Contains information about a request to delete a GenericFile or IntellectualObject.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/deletion_request_view.go" target="_blank">DeletionRequestView</a></td>
<td>Read-only model containing additional fields from records related to the deletion request. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/deposit_format_stats.go" target="_blank">DepositFormatStats</a></td>
<td>Contains stats about an institution's deposits. Possibly obsolete. This may have been superseded by DepositStats.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/deposit_stats.go" target="_blank">DepositStats</a></td>
<td>Contains repository-wide stats used in Registry's Reports page.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/generic_file.go" target="_blank">GenericFile</a></td>
<td>Represents a single file in preservation storage.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/generic_file_view.go" target="_blank">GenericFileView</a></td>
<td>Read-only model containing additional fields from records related to the file. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/institution.go" target="_blank">Institution</a></td>
<td>Describes an institution (aka depositor).</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/institution_view.go" target="_blank">InstitutionView</a></td>
<td>Read-only model containing additional fields from records related to the institution. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/intellectual_object.go" target="_blank">IntellectualObject</a></td>
<td>Represents an object in preservation storage. An IntellectualObject is a collection of GenericFiles, plus some metadata, such as Title, Access settings, etc.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/intellectual_object_view.go" target="_blank">IntellectualObjectView</a></td>
<td>Read-only model containing additional fields from records related to the object. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/premis_event.go" target="_blank">PremisEvent</a></td>
<td>Describes an action that the system or one of its users has performed on an IntellectualObject or GenericFile. PREMIS events cannot be updated or deleted.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/premis_event_view.go" target="_blank">PremisEventView</a></td>
<td>Read-only model containing additional fields from records related to the event. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/storage_record.go" target="_blank">StorageRecord</a></td>
<td>Describes where in preservation storage a file can be found.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/user.go" target="_blank">User</a></td>
<td>A Registry User.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/user_view.go" target="_blank">UserView</a></td>
<td>Read-only model containing additional fields from records related to the user. This is used for querying and display.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/work_item.go" target="_blank">WorkItem</a></td>
<td>Describes a task that is, has been, or will be carried out by Preserv's ingest, restoration or deletion services.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/work_item_view.go" target="_blank">WorkItemView</a></td>
<td>Read-only model containing additional fields from records related to the WorkItem. This is used for querying and display.</td>
</tr>
</tbody>
</table>
<h2 id="list-of-non-model-objects-in-pgmodels">List of Non-Model Objects in pgmodels</h2>
<p>The following files in the pgmodels folder are not models but are related to models and database access.</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/factory.go" target="_blank">factory.go</a></td>
<td>Like Rails' FactoryGirl, this file contains functions to generate model instances for unit and integration tests.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/filter_collection.go" target="_blank">filter_collection.go</a></td>
<td>Contains information about filters a user wants to apply when querying a list of records.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/json_types.go" target="_blank">json_types.go</a></td>
<td>Contains specially-defined serialization models for some pgmodel types. These are for cases in which some front-end component requires a custom (usually lightweight) serialization of an object.</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/pgmodel.go" target="_blank">pgmodel.go</a></td>
<td>Contains base fields and functions inherited by other pgmolde.s</td>
</tr>
<tr>
<td><a href="https://github.com/APTrust/registry/blob/master/pgmodels/query.go" target="_blank">query.go</a></td>
<td>Contains information necessary to generate a database query, including where clause, sorting, offsets, and limits. This can be constructed from a FilterCollection object, which in turn is parsed from query string params.</td>
</tr>
</tbody>
</table>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../database/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Database" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Database
            </div>
          </div>
        </a>
      
      
        
        <a href="../settings/" class="md-footer__link md-footer__link--next" aria-label="Next: Settings" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Settings
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8492ddcf.min.js"></script>
      
    
  </body>
</html>